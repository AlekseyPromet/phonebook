<!-- public/index.html -->
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>ТКнига</title>
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="/public/materialize.css">
  <!-- <link rel="stylesheet" href="/public/fonts.css"> -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- Vue.js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
</head>

<body>
  <div class="container">
    <h2>Телефонная книга</h2>
    <!-- Поиск -->
    <div class="row" id="app1">
      <div class="col xl3 l3 m3 s3 input-field" v-bind:title="searchMessage">
        <label for="sr"><i class="material-icons circle">search</i></label>
        <input id="sr" type="text" minlength="5" maxlength="10" placeholder="9876543210" class="search" v-model.trim="searchNumber"
          v-on:keyup.enter="search($event)">
      </div>
      <div class="col" v-if="isSearch">
        <textarea id="al" cols="3" rows="30">{{ allNumbers }}</textarea>
      </div>
    </div>
    <!-- Форма нового контакта -->
    <form action="/newсontact" id="app3">
      <div class="row">
        <h6>Создать новый контакт</h6>
        <div class="input-field col xl3 l3 m4 s4">
          <input type="text" id="fn" placeholder="Имя" v-model.trim="newContact.firstname">
          <label for="fn">Имя</label>
        </div>
        <div class="input-field col xl3 l3 m4 s4">
          <input type="text" id="sn" placeholder="Фамилия" v-model.trim="newContact.secondname">
          <label for="sn">Фамилия</label>
        </div>
        <div class="input-field col xl2 l2 m3 s3">
          <input type="text" id="si" placeholder="Синоним" v-model.trim="newContact.sinonim">
          <label for="si">Синоним</label>
        </div>
        <div class="col xl1 l1 m1 s1">
          <select class="browser-default" id="pf" v-model.trim="newContact.prefix">
            <option value="7" disabled selected>+7</option>
            <option value="0">0</option>
            <option value="1">+1</option>
            <option value="2">+2</option>
            <option value="3">+3</option>
            <option value="4">+4</option>
            <option value="5">+5</option>
            <option value="6">+6</option>
            <option value="7">+7</option>
            <option value="8">+8</option>
            <option value="9">+9</option>
          </select>
        </div>
        <div class="input-field col">
          <input type="text" id="nb" class="validate" type="text" minlength="5" maxlength="10" placeholder="9876543210"
            v-model.number="newContact.number">
          <label for="nb">Номер</label>
        </div>
        <div class="col xl1 l1 m1 s12">
          <input type="checkbox" checked="checked" id="ac" v-model="newContact.active">
          <label for="ac">Активен</label>
        </div>
        <button class="btn-floating green waves-effect waves-light right" type="button" v-on:click="createContact">
          <i class="material-icons circle">add</i>
        </button>
      </div>
    </form>
  </div>

  <!-- Конец формы для нового контакта-->
  <!-- Список контактов -->
  <div class="container" id="app2">
    <div class="row" v-if="isLoading">
      <div class="col xl12 l12 s12 m12">
        <ul class="list-group">
          <li class="list-group-item" v-for="(contact, index) in contacts" :key="contact.id">
            <!-- карточка -->
            <div class="card row">
              <div class="col">
                <div class="card-content">
                  <span>{{ index+1 }}</span>
                  <h5 class="car-title">Имя: {{contact.firstname}} {{contact.secondname}}</h5>
                  <h5>Телефон: {{ contact.prefix }}{{ contact.number }}</h5>
                  <div class="card-action">
                    <div>Псевдоним: {{ contact.sinonim }} </div>
                    <div>Активный: {{ contact.active }}</div>
                  </div>
                </div>
              </div>
              <div class="right-align">
                <button class="btn-floating red" v-on:click="deleteContact(index)">
                  <i class="material-icons circle" aria-hidden="true">delete</i>
                </button>
              </div>
            </div>
            <!-- карточка -->
          </li>
        </ul>
      </div>
    </div>
    <div class="row" v-else>
      <div class="col">Загрузка контактов...</div>
    </div>
  </div>
  <!-- Конец списока контактов -->
  <!-- Compiled and minified JavaScript -->
  <script type="text/javascript" src="/public/axios.js"></script>
  <script type="text/javascript" src="/public/scripts.js"></script>
  <!-- JQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $('select').formSelect();
    });
  </script> -->
</body>

</html>